(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{412:function(t,s,a){"use strict";a.r(s);var e=a(54),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"webpack重点内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack重点内容"}},[t._v("#")]),t._v(" webpack重点内容")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-入口entry"}},[t._v("1.入口entry")])]),a("li",[a("a",{attrs:{href:"#_2-出口output"}},[t._v("2.出口output")])]),a("li",[a("a",{attrs:{href:"#_3-loader"}},[t._v("3.loader")])]),a("li",[a("a",{attrs:{href:"#_4-插件plugin"}},[t._v("4.插件plugin")])]),a("li",[a("a",{attrs:{href:"#_5-mode-模式"}},[t._v("5.mode[模式]")])]),a("li",[a("a",{attrs:{href:"#_6-其他比较重要的属性"}},[t._v("6.其他比较重要的属性")])])])]),a("p"),t._v(" "),a("h3",{attrs:{id:"_1-入口entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-入口entry"}},[t._v("#")]),t._v(" 1.入口entry")]),t._v(" "),a("p",[t._v("​\t\t由这个模块来构建项目的内部依赖图，默认值是"),a("code",[t._v("./src/index.js")])]),t._v(" "),a("p",[t._v("​\t\t可以直接在配置中进行配置")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-出口output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-出口output"}},[t._v("#")]),t._v(" 2.出口output")]),t._v(" "),a("p",[t._v("​\t\t输出webpack创建的bundle的目标位置，默认值是./dist/main.js")]),t._v(" "),a("p",[t._v("​\t\t配置文件中需要配置的属性有")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-loader"}},[t._v("#")]),t._v(" 3.loader")]),t._v(" "),a("p",[t._v("​\t\t对webpack无法直接处理的文件类型进行预处理，将其转换成commonJS模块，处理后添加至依赖图中")]),t._v(" "),a("p",[t._v("​\t\t配置文件中主要需要配置识别属性test、加载器属性use")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.css$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css-loader"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.scss$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在head中创建style部分，并添加入口函数中的样式")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将.css文件转换成commonJS模块")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sass-loader"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将.scss进行预处理，编译成.css文件")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意：use中加载器的执行顺序为从下至上，从右至左")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 而且都需要先利用npm安装后，再进行使用，少数加载器有相互封装的情况则根据具体情况来使用，比如file-loader就封装在url-loader中，所以一般安装是需要都安装完毕，使用时则只需要使用url-loader即可")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4-插件plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-插件plugin"}},[t._v("#")]),t._v(" 4.插件plugin")]),t._v(" "),a("p",[t._v("​\t\t一般来处理loader进行不了的任务，比如打包优化，资源管理，注入环境变量等等。更加具体的例子：比如使用HtmlWebpackPlugin插件，在每次生成bundle文件后会自动创建对应的html文件")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HtmlWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 npm 安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack是以nodejs为基础开发的，所以webpack使用最多的就是commonJS模块，比如上面的require")]),t._v("\n\nplugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.html'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个插件开发时一般要配合devServer来使用")]),t._v("\n")])])]),a("h3",{attrs:{id:"_5-mode-模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-mode-模式"}},[t._v("#")]),t._v(" 5.mode[模式]")]),t._v(" "),a("p",[t._v("​\t\twebpack中一共有三种模式：开发模式development，生产模式production，none，生产模式会将代码进行压缩，所以开发或者学习时一般用开发模式development")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 利用脚本改变")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode production"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发布时使用")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("以上核心内容本质上都是module.exports的属性，也叫做节点")]),t._v(" "),a("h3",{attrs:{id:"_6-其他比较重要的属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-其他比较重要的属性"}},[t._v("#")]),t._v(" 6.其他比较重要的属性")]),t._v(" "),a("h4",{attrs:{id:"devserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devserver"}},[t._v("#")]),t._v(" devServer")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//webpack.config.js")]),t._v("\ndevServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        open"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//打包完成后自动打开浏览器")]),t._v("\n        host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//主机地址")]),t._v("\n        port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//端口号，若设置端口号为80，则默认隐藏")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以上内容不是必须的，但是devServer可以更灵活的配置serve")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack serve"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 运行webpack时同时开启devServer的web-server")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("​\t\t这个组件的作用是编译后使用内存搭建一个"),a("code",[t._v("web server")]),t._v("，实现通过访问localhost就能实时监控项目的改动，必须搭配"),a("code",[t._v("html-webpack-plugin")]),t._v("插件一起使用，且该插件初始化时必须指定template参数，但是"),a("code",[t._v("webpack-dev-server")]),t._v("会阻止打包文件在本地磁盘中的创建，而是在内存中创建对应的虚拟文件")]),t._v(" "),a("p",[t._v("​\t因为它的serve是在内存中操作虚拟文件，并且若"),a("code",[t._v("html-webpack-plugin")]),t._v("以默认方式创建html文件的话会直接失败")]),t._v(" "),a("h4",{attrs:{id:"devtool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devtool"}},[t._v("#")]),t._v(" devtool")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("devtool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eval-source-map"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 建议在开发中使用这个sourcemap，可以精确定位bug")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sourceMap是一个信息文件，里边存储着位置信息，若将devtool设置为source-map，")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 则会打包一个.map文件，里边有精确的源代码信息，所以在任何情况下都不建议将devtool设置为source-map")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//devtool:"nosources-source-map", // 建议在生产中关闭sourcemap或者使用这个sourcemap，为了安全性，防止被追踪')]),t._v("\n")])])]),a("p",[a("code",[t._v("devtool")]),t._v("，开发工具，主要作用是利用不同的"),a("code",[t._v("sourceMap")]),t._v("进行代码追踪，便于快速进行bug定位，但是也存在一定的安全性问题，所以要根据具体的情况选择不同的"),a("code",[t._v("sourceMap")])]),t._v(" "),a("h4",{attrs:{id:"resolve"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolve"}},[t._v("#")]),t._v(" resolve")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//配置模块解析")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建important或者require的别名，可以将特定的文件或者目录解析成自定义名称，导入时只需导入对应的key即可")]),t._v("\n        alias"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 告诉webpack，程序员写的代码中，@表示src这一层目录")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("resolve")]),t._v("可以进行模块解析的配置，而"),a("code",[t._v("alias")]),t._v("属性的主要作用是简化"),a("code",[t._v("important")]),t._v("或者"),a("code",[t._v("require")]),t._v("的路径，上面的代码利用"),a("code",[t._v("@")]),t._v("替换"),a("code",[t._v("./src")]),t._v("开发目录，可以使所有的导入都以"),a("code",[t._v("./src")]),t._v("作为路径起始点")]),t._v(" "),a("h4",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" "),a("code",[t._v("注意:")])]),t._v(" "),a("p",[a("strong",[t._v("webpack无需loader也能够解析json文件和js文件，也就是说，在入口函数中，可以直接import对应的文件来使用，而不需要调整配置文件wepack.config.js")])])])}),[],!1,null,null,null);s.default=n.exports}}]);