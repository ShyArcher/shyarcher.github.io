(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{397:function(t,s,a){"use strict";a.r(s);var n=a(54),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"node-js学习笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js学习笔记"}},[t._v("#")]),t._v(" Node.js学习笔记")]),t._v(" "),a("blockquote",[a("p",[t._v("浏览器是JavaScript的前端运行环境")]),t._v(" "),a("p",[t._v("nodejs是JavaScript的后端运行环境")])]),t._v(" "),a("h2",{attrs:{id:"_1-什么是node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是node-js"}},[t._v("#")]),t._v(" 1.什么是node.js")]),t._v(" "),a("p",[t._v("js是解释性脚本语言，需要解析器和运行环境才能运行，在客户端的解析器是浏览器中的v8解析引擎等等，服务端就是nodejs")]),t._v(" "),a("p",[t._v("总结：nodejs是js的一个解析器，而运行在nodejs中的js脚本的"),a("strong",[t._v("主要作用")]),t._v("是"),a("strong",[t._v("操作磁盘文件")]),t._v("或者"),a("strong",[t._v("搭建http服务器")])]),t._v(" "),a("p",[t._v("更直观来说，nodejs是js的一个"),a("strong",[t._v("运行环境")]),t._v("，且"),a("strong",[t._v("nodejs是")]),t._v("基于Chrome v8引擎的"),a("strong",[t._v("JavaScript运行环境")])]),t._v(" "),a("h2",{attrs:{id:"_2-运行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行命令"}},[t._v("#")]),t._v(" 2.运行命令")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("node js文件名.js\n")])])]),a("h2",{attrs:{id:"_3-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-模块"}},[t._v("#")]),t._v(" 3.模块")]),t._v(" "),a("blockquote",[a("p",[t._v("大型程序一般都是模块化开发，将不同代码拆分到不同的js文件中，每个js文件就是一个模块")])]),t._v(" "),a("h3",{attrs:{id:"_3-1-require函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-require函数"}},[t._v("#")]),t._v(" 3.1 require函数")]),t._v(" "),a("p",[t._v("用于在当前模块加载和使用其他模块")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入内置的http模块")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入自定义模块")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" demo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./demo.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入json数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-2-exports对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-exports对象"}},[t._v("#")]),t._v(" 3.2 exports对象")]),t._v(" "),a("blockquote",[a("p",[t._v("别的模块通过"),a("code",[t._v("require")]),t._v("函数使用当前模块时得到的就是当前模块的"),a("code",[t._v("exports")]),t._v("对象")])]),t._v(" "),a("p",[t._v("当前模块的导出对象，用于导出模块公有方法和属性。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导出方法")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("hello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导出属性")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小明'")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-3-module对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-module对象"}},[t._v("#")]),t._v(" 3.3 module对象")]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("module")]),t._v("对象可以访问到当前模块的一些相关信息，但最多的用途是替换当前模块的导出对象。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将默认导出的普通对象更改为函数")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意：导出的模块只会初始化一次，后面被缓存起来重复使用")])]),t._v(" "),a("h2",{attrs:{id:"_4-模块的路径解析规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-模块的路径解析规则"}},[t._v("#")]),t._v(" 4.模块的路径解析规则")]),t._v(" "),a("p",[t._v("1.内置模块不做路径解析，直接返回内置模块的导出对象")]),t._v(" "),a("p",[t._v("2.所有的模块都会从node_modules目录为核心进行路径解析")]),t._v(" "),a("p",[t._v("3.可以配置环境变量来制定模块搜索路径")]),t._v(" "),a("h2",{attrs:{id:"_5-包package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-包package"}},[t._v("#")]),t._v(" 5.包package")]),t._v(" "),a("p",[t._v("1.多个子模块组成的大模块称为包，也可以将nodejs编写的程序称为包")]),t._v(" "),a("p",[t._v("2.每个包都有一个入口模块main.js和配置文件package.json")]),t._v(" "),a("p",[t._v("3.package.json中的重要属性")]),t._v(" "),a("p",[t._v("​\tmain：应用程序的入口")]),t._v(" "),a("p",[t._v("​\tscripts：可以运行的node脚本")]),t._v(" "),a("p",[t._v("​\tdependcies：npm软件包生产依赖")]),t._v(" "),a("p",[t._v("​\tdevDependencies：npm软件包开发依赖")]),t._v(" "),a("h2",{attrs:{id:"_6-包管理工具npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-包管理工具npm"}},[t._v("#")]),t._v(" 6.包管理工具NPM")]),t._v(" "),a("blockquote",[a("p",[t._v("随同nodejs一起安装，可以从NPM服务器下载第三方包或命令行程序到本地")])]),t._v(" "),a("p",[t._v("安装module包的npm命令")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 全局安装\nnpm install 包名 -g\nnom i 包名 -g\n\n// 生产环境\nnpm i 包名 -S\n// 开发环境\nnpm i 包名 -D\n")])])]),a("h2",{attrs:{id:"_7-文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-文件系统"}},[t._v("#")]),t._v(" 7.文件系统")]),t._v(" "),a("blockquote",[a("p",[t._v("node内置模块包括文件系统fs、路径模块path、网络请求http；即nodejs提供的，在js代码编译运行时便已经存在的模块")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deal with error.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理文件中的数据")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"_8-网络操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-网络操作"}},[t._v("#")]),t._v(" 8.网络操作")]),t._v(" "),a("blockquote",[a("p",[t._v("所有的网络操作都建立在http模块的基础上，首先需要使用"),a("code",[t._v(".createServer")]),t._v("方法创建一个服务器，然后调用"),a("code",[t._v(".listen")]),t._v("方法监听端口。之后，每当来了一个客户端请求，创建服务器时传入的回调函数就被调用一次。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nhttp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text-plain'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World\\n'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8124")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("创建web服务器的步骤：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1.导入http模块\n2.调用http.createServer()\n3.调用server.on('request',callback(req,res){})监听客户端请求\n4.调用server.listen(端口号，callback)启动服务\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);